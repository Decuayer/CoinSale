<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="/img/logo3.png" type="image/x-icon">
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet">
    <link href="/css/general.css" rel="stylesheet">
    <link href="/css/loader.css" rel="stylesheet">
    <title>User Profile</title>
</head>
<body>
    <header>
        <nav class="navbar navbar-expand-lg navbar navbar-light bg-light fixed-top">
            <div class="container-fluid">
                <a href="#" class="navbar-brand">
                    <img src="/img/logo3.png" alt="Logo" width="50" height="50">
                    CoinSale
                </a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse" id="navbarNav" style="justify-content: space-between;">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="/profile">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/rules">Rules</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/faq">FAQ</a>
                        </li>
                        
                    </ul>
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="/mining">Mining</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/deposit">Deposit</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link disabled" href="/withdraw">Withdraw</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/user"><span class="border-bottom"><span class="fw-bolder">Balance: </span><%= (data.balance).toFixed(2) %> $</span></a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" role="button" id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                <%= data.nickname %>
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-person" viewBox="0 0 16 16">
                                    <path d="M8 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6m2-3a2 2 0 1 1-4 0 2 2 0 0 1 4 0m4 8c0 1-1 1-1 1H3s-1 0-1-1 1-4 6-4 6 3 6 4m-1-.004c-.001-.246-.154-.986-.832-1.664C11.516 10.68 10.289 10 8 10s-3.516.68-4.168 1.332c-.678.678-.83 1.418-.832 1.664z"/>
                                </svg>
                            </a>
                            <div class="dropdown-menu " aria-labelledby="navbarDropdownMenuLink">
                                <a href="/user" class="dropdown-item active">Profile</a>
                                <a href="/settings" class="dropdown-item">Settings</a>
                                <div class="dropdown-divider"></div>
                                <a href="/logout" class="dropdown-item">Logout</a>

                            </div>
                        </li>
                    </ul>
                </div>
            </div>
            
        </nav>
    </header>
    <main role="main">
        <div class="container" style="margin-top: 100px; color: #000;">
            <div class="row">
                <div class="col-md-4 rounded-1 mt-3">
                    <div class="card rounded-1" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                        <div class="upper">
                            <img src="https://i.imgur.com/Qtrsrk5.jpg" class="img-fluid" alt="profile-photo">
                        </div>
                        <div class="user text-center">
                            <div class="profile">
                                <img src="/img/profile-photo.png" alt="profile" class="rounded-circle">
                            </div>
                        </div>
                        <div class="mt-5 p-2">
                            <h5 class="d-flex justify-content-between"><span class="">Nickname:</span> <span class=""><%= data.nickname %></span></h4>
                            <h5 class="d-flex justify-content-between"><span class="">Name:</span> <span class=""><%= data.name %></span></h2>
                            <h5 class="d-flex justify-content-between"><span class="">E-mail:</span> <span class=""><%= data.email %></span></h2>
                            <h5 class="d-flex justify-content-between"><span class="">Telephone:</span> <span class=""><%= data.tel %></span></h2>
                            <h5 class="d-flex justify-content-between"><span class="">VIP:</span> <span class="badge bg-warning text-dark"><%= data.vip %></span></h2>
                        </div>
                    </div>
                    <div class="card rounded-1 mt-3" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                        <div class="reference p-2">
                            <label for="referenceCode" class=""><h5 class="">Reference Code:</h5></label>
                            <div class="input-group mb-3">
                                <input type="text" class="form-control" placeholder="Reference Code:" aria-label="Reference Code:" aria-describedby="button-addon2" id="referenceCode" value="<%= data.referenceCode %>" readonly>
                                <div class="input-group-append">
                                    <button class="btn btn-outline-secondary" type="button" id="button-copy" onclick="copyReference()">Copy</button>
                                    <button class="btn btn-outline-secondary" type="button" id="button-copy-link">Copy Link</button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card rounded-1 mt-3" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                        <div class="row">
                            <div class="col-12 text-center mt-2">
                                <a class="btn btn-secondary w-50 text-white" href="/mining">Mining</a>
                            </div>
                            <div class="col-12 text-center mt-2">
                                <a class="btn btn-secondary w-50 text-white" href="/deposit">Deposit</a>
                            </div>
                            <div class="col-12 text-center mt-2 mb-2">
                                <a class="btn btn-secondary w-50 text-white" href="/withdraw">Withdraw</a>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-8 mt-3">
                    <div class="card rounded-1 p-3" style="  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                        <div class="heading text-center p2">
                            <h2>Earnings Information</h1>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-md-12 text-center mt-2">
                                <h5>Total Money:</h5>
                                <div class="p-2 rounded-1" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                    <h2 class="mt-1 mr-2"><%= (data.balance/100*100).toFixed(2) %> $</h5>
                                </div>
                            </div>
                            <div class="col-md-6 text-center mt-2">
                                <h5>Daily Earnings:</h5>
                                <div class="p-2 rounded-1 d-flex flex-row-reverse border border-success" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                    <h4 class="mt-1 mr-2"> + <%= (data.loadedmoney/100*3.3).toFixed(2) %> $</h5>
                                </div>
                            </div>
                            <div class="col-md-6 text-center mt-2">
                                <h5>Daily Earning Rate:</h5>
                                <div class="p-2 rounded-1 d-flex flex-row-reverse border" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                    <h4 class="mt-1 mr-2">%3.3</h5>
                                </div>
                            </div>
                            <div class="col-md-6 text-center mt-2">
                                <h5>Monthly Earnings:</h5>
                                <div class="p-2 rounded-1 d-flex flex-row-reverse border border-success" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                    <h4 class="mt-1 mr-2"> + <%= (data.loadedmoney/100*100).toFixed(2) %> $</h5>
                                </div>
                            </div>
                            <div class="col-md-6 text-center mt-2">
                                <h5>Monthly Earning Rate:</h5>
                                <div class="p-2 rounded-1 d-flex flex-row-reverse border" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                    <h4 class="mt-1 mr-2">%100</h5>
                                </div>
                            </div>
                            <div class="col-md-12 text-center mt-2">
                                <h5>Total Earnings:</h5>
                                <div class="p-2 rounded-1 border border-success" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                    <%  %>
                                    <h2 class="mt-1 mr-2">+ <%= (data.balance - data.loadedmoney).toFixed(2) %> $</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="card rounded-1 p-3 mt-3" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                        <div class="heading text-center p2">
                            <h2>Other Information</h1>
                        </div>
                        <hr>
                        <div class="row">
                            <div class="col-md-4 text-center mt-2">
                                <h5>Entry Date:</h5>
                                <div class="p-2 rounded-1 border border-warning" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                    <h5 class="mt-1 mr-2"><%= data.entrydate.getDate() %>.<%= data.entrydate.getMonth() %>.<%= data.entrydate.getFullYear() %>  <%= data.entrydate.getHours() %>:<%= data.entrydate.getMinutes() %>:<%= data.entrydate.getSeconds() %></h5>
                                </div>
                            </div>
                            <div class="col-md-4 text-center mt-2">
                                <h5>Latest Transactions:</h5>
                                <div class="p-2 rounded-1 border border-warning" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                    <h5 class="mt-1 mr-2">
                                        <% if (trans[trans.length-1]) { %>
                                            <%= trans[trans.length-1].date.getDate() %>.<%= trans[trans.length-1].date.getMonth() %>.<%= trans[trans.length-1].date.getFullYear() %>  <%= trans[trans.length-1].date.getHours() %>:<%= trans[trans.length-1].date.getMinutes() %>:<%= trans[trans.length-1].date.getSeconds() %>
                                        <% } else {%>
                                            -
                                        <% } %>
                                    </h5>
                                </div>
                            </div>
                            <div class="col-md-4 text-center mt-2">
                                <h5>Days Until Withdraw:</h5>
                                <div class="p-2 rounded-1 border border-warning" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                    <h5 class="mt-1 mr-2">0 Day</h5>
                                </div>
                            </div>
                            <div class="col-md-4 text-center mt-2">
                                <h5>Active User Count:</h5>
                                <div class="p-2 rounded-1 border" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                    <h5 class="mt-1 mr-2"><%= data.usercount %></h5>
                                </div>
                            </div>
                            <div class="col-md-4 text-center mt-2">
                                <h5>Waiting User Count:</h5>
                                <div class="p-2 rounded-1 border" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                    <h5 class="mt-1 mr-2">
                                        <% countuser = 0 %>
                                        <% users.forEach(user => { %>
                                            <% if (user.moneywithdraw == 0) { %>
                                            <% countuser += 1; %>
                                            <% } %>
                                        <% }) %>
                                        <%= countuser %>
                                    </h5>
                                </div>
                            </div>
                            <div class="col-md-4 text-center mt-2">
                                <h5>Next VIP Stage:</h5>
                                <div class="p-2 rounded-1 border" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                                    <h5 class="mt-1 mr-2">
                                        <% viptable.forEach(element => { %>
                                            <% if (element.name == data.vip) { %>
                                                +<%= element.nextcount-data.usercount %>
                                            <% } %>
                                        <% }) %>
                                    </h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                </div>
                <div class="col-md-12">
                    <div class="card rounded-1 p-3 mt-3" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                        <div class="heading text-center mt-2 mb-2">
                            <h2>Your References</h1>
                        </div>
                        <div class="row p-2">
                            <div class="col-md-12 table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Nickname</th>
                                            <th scope="col">VIP</th>
                                            <th scope="col">Entry Date</th>
                                            <th scope="col">Balance</th>
                                            <th scope="col">Total Earnings</th>
                                            <th scope="col">Your Bonus</th>
                                            <th scope="col">Active User</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <% idcount = 1 %>
                                        <% users.forEach(user => { %>
                                        <tr>
                                            <th scope="row"><%= idcount%></th>
                                            <th><%= user.name %></th>
                                            <th><span class="badge bg-warning text-dark"><%= user.vip %></span></th>
                                            <th><%= user.entrydate.getDate() %>.<%= user.entrydate.getMonth() %>.<%= user.entrydate.getFullYear() %> -- <%= user.entrydate.getHours() %>:<%= user.entrydate.getMinutes() %>:<%= user.entrydate.getSeconds() %></th>
                                            <th><%= user.balance %> $</th>
                                            <th>+<%= user.balance-user.loadedmoney %>$</th>
                                            <th>+
                                                <% if (user.moneywithdraw == 1) { %>
                                                    13
                                                <% } else {%>
                                                    0    
                                                <% } %>
                                                $
                                            </th>
                                            <th class="">
                                                <% if (user.moneywithdraw == 1) { %>
                                                    <span class="badge bg-success">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-check" viewBox="0 0 16 16">
                                                            <path d="M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425z"/>
                                                        </svg>
                                                    </span>
                                                <% } else {%>
                                                    <span class="badge bg-danger">
                                                        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="white" class="bi bi-x" viewBox="0 0 16 16">
                                                            <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708"/>
                                                        </svg>
                                                    </span>
                                                <% } %>
                                            </th>
                                            <% idcount += 1; %>
                                        </tr>
                                        <% }) %>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-md-12">
                    <div class="card rounded-1 p-3 mt-3" style="box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);">
                        <div class="heading text-center mt-2 mb-2">
                            <h2>Last Transactions</h2>
                        </div>
                        <div class="row p-2">
                            <div class="col-md-12 table-responsive">
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th scope="col">#</th>
                                            <th scope="col">Date</th>
                                            <th scope="col">Transactions Id</th>
                                            <th scope="col">Process</th>
                                            <th scope="col">Waiting</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <% transcount = 1 %>
                                        <% trans.forEach(element => { %>
                                        <tr>
                                            <th scope="row"><%= transcount %></th>
                                            <th><%= element.date.getDate() %>.<%= element.date.getMonth() %>.<%= element.date.getFullYear() %> -- <%= element.date.getHours() %>:<%= element.date.getMinutes() %>:<%= element.date.getSeconds() %></th>
                                            <th><%= element.uuid %></th>
                                            <th class="
                                                <% if (element.type == "Deposit") { %>
                                                    text-success
                                                <% } else if (element.type == "Withdraw") { %>
                                                    text-danger
                                                <% } %>
                                                "><% if (element.type == "Deposit") { %>
                                                    +
                                                <% } else if (element.type == "Withdraw") { %>
                                                    -
                                                <% } %>
                                                <%= element.witdrawinput %> $
                                            </th>

                                            <th><%= element.waiting %></th>
                                        </tr>
                                        <% transcount += 1; %>
                                        <% }) %>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
        <footer class="container">
            <hr class="featurette-divider">
            <p class="float-right"><a href="#">Back to top</a></p>
            <p>&copy; 2019-2025 CoinSale, Inc. &middot; <a href="/privacy&terms">Privacy</a> &middot; <a href="/privacy&terms">Terms</a></p>
        </footer>
    </main>
    <div class="loader">
        <img class="" src="/img/logo3.png" alt="Logo" width="50" height="50">
        <h3 class="mt-2 mr-5">CoinSale</h3>
    </div>

    <script src="/js/loader.js"></script>
    <script src="/js/functions.js"></script>

    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
    <script>window.jQuery || document.write('<script src="/assets/js/jquery-slim.min.js"><\/script>')</script>
    <script src="/js/popper.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
    <script src="/js/holder.min.js"></script>
</body>
</html>